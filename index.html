<!DOCTYPE html>
<html>
  <head>
    <title>Chimpart Experiment Grounds: By Monky-ai</title>
  </head>
  <body>
    <canvas id="content" width="400" height="300"></canvas>
    <script>
      function $(a){return document.getElementById(a);}
      let canvas = $('content');
      let ctx = canvas.getContext('2d',{ willReadFrequently: true });
      function canvasRGB(){
        return ctx.getImageData(0,0,canvas.width,canvas.height);
      }
      function drawImg(src){
        ctx.clearRect(0,0,canvas.width,canvas.height);
        if(typeof src == 'string'){
          let newImg = new Image();
          newImg.src = src;
          newImg.onload = () => {
            ctx.drawImage(newImg,0,0,400,300);
          }
        } else {
          ctx.putImageData(src,0,0);
        }
      }
      let filters = {
        blot:(imgData,intensity = 1)=>{
          ctx.filter = 'blur('+(2*intensity).toString()+'px) contrast('+(100*intensity).toString()+'%)';
          drawImg(imgData);
        }
      }
      drawImg('./flightreacts.jpeg');
      filters.blot(canvasRGB());
    </script>
  </body>
</html>
